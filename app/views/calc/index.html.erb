<h1>Calculator</h1>
<% post_onkeyup = "this.form.sub.click()" %>
<% post_onchange_binary = "this.form.sub.click();$('#expr2:hidden').show(100);" %>
<% post_onchange_single = "this.form.sub.click();$('#expr2:visible').hide(100);" %>
<%= form_tag calc_calculate_path, :method => :post, :remote => true do %>
    <%= text_field_tag :expr1, nil, :onkeyup => post_onkeyup %>
    <div style="display: inline-block; vertical-align: middle; margin: 5px">
      <%= radio_button_tag(:action_operator, "+", true, :onchange => post_onchange_binary) %>
      <%= label_tag("+") %>
      <br>
      <%= radio_button_tag(:action_operator, "-", false, :onchange => post_onchange_binary) %>
      <%= label_tag("-") %>
      <br>
      <%= radio_button_tag(:action_operator, "/", false, :onchange => post_onchange_binary) %>
      <%= label_tag("/") %>
      <br>
      <%= radio_button_tag(:action_operator, "√", false, :onchange => post_onchange_single) %>
      <%= label_tag("√") %>
      <br>
      <%= radio_button_tag(:action_operator, "∛", false, :onchange => post_onchange_single) %>
      <%= label_tag("∛") %>
      <br>
      <%= radio_button_tag(:action_operator, "sin", false, :onchange => post_onchange_single) %>
      <%= label_tag("sin") %>
      <br>
      <%= radio_button_tag(:action_operator, "cos", false, :onchange => post_onchange_single) %>
      <%= label_tag("cos") %>
    </div>
    <%= text_field_tag :expr2, nil, :onkeyup => post_onkeyup %>
    = <span id="result"></span>
    <%= submit_tag "recalc", :name => "sub" %>
<% end %>